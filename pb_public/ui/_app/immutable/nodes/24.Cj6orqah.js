import{a as X}from"../chunks/DYsVtq3u.js";import{e as re}from"../chunks/DOKmI30y.js";import{s as de,d as p,i as x,b as y,a as S,T as _e,f as O,c as E,e as N,m as H,k as P,o as pe,q as he,E as ae,y as ge,v as Y,U as se,l as oe,C as ve,w as T,g as Z,x as B,r as be,V as $e,z as ye,L as ke}from"../chunks/ufOp95kZ.js";import{S as we,i as Ee,d as U,t as z,a as M,c as ee,m as G,b as J,e as K,g as te}from"../chunks/DNCcOagt.js";import{e as W}from"../chunks/DRjDb-W4.js";import{g as ne,i as Pe}from"../chunks/D3JaxPbd.js";import{p as Ce}from"../chunks/BpHj9z-n.js";import"../chunks/Ce6Dz44R.js";import{P as De}from"../chunks/CEFpR4T3.js";import"../chunks/D-vWSArU.js";import{s as Ie}from"../chunks/JGQLqEoH.js";import{t as ie}from"../chunks/DhmAwd_b.js";import"../chunks/CHWgvwls.js";/* empty css                */import"../chunks/RatnibW6.js";import"../chunks/DanBvOwQ.js";import{M as Ve}from"../chunks/KlopcYsA.js";/* empty css                */import{D as xe,M as Me,n as Se}from"../chunks/C6ap-ZRN.js";import{P as Ne}from"../chunks/DypRY6cT.js";import{P as je}from"../chunks/BxN2_gOQ.js";async function ze({params:o,url:t,parent:l}){try{const{storeId:e,origin:a,sid:s}=await l(),{slug:i}=o,h=t.searchParams.get("id"),u=await X.fetchCategory({storeId:e,sid:s,id:i||h,origin:a});if(u)return{category:u}}catch(e){re(400,e==null?void 0:e.message)}re(404,"Category not found")}const ft=Object.freeze(Object.defineProperty({__proto__:null,load:ze},Symbol.toStringTag,{value:"Module"}));function ce(o,t,l){const e=o.slice();return e[14]=t[l],e}function Ae(o,t,l){const e=o.slice();return e[17]=t[l],e}function fe(o){let t,l,e,a;return t=new xe({props:{facets:o[3],query:o[5],class:"sticky top-[7.5rem] hidden lg:top-[5.5rem] lg:block"}}),t.$on("clearAll",o[7]),e=new Me({props:{facets:o[3],class:"sticky top-[4.9rem] z-50 block lg:hidden"}}),e.$on("clearAll",o[7]),{c(){K(t.$$.fragment),l=H(),K(e.$$.fragment)},l(s){J(t.$$.fragment,s),l=O(s),J(e.$$.fragment,s)},m(s,i){G(t,s,i),x(s,l,i),G(e,s,i),a=!0},p(s,i){const h={};i&8&&(h.facets=s[3]),t.$set(h);const u={};i&8&&(u.facets=s[3]),e.$set(u)},i(s){a||(M(t.$$.fragment,s),M(e.$$.fragment,s),a=!0)},o(s){z(t.$$.fragment,s),z(e.$$.fragment,s),a=!1},d(s){s&&p(l),U(t,s),U(e,s)}}}function Oe(o){var D;let t,l,e,a,s,i,h=`<img src="${Se}" alt="no data available" class="h-60 w-auto object-contain text-xs"/>`,u,d,V="No data found",C,$,b,n=((D=o[0].category)==null?void 0:D.name)&&ue(o);return $=new De({props:{class:"text-sm",$$slots:{default:[Le]},$$scope:{ctx:o}}}),$.$on("click",o[10]),{c(){t=P("div"),l=P("div"),e=P("h1"),a=B("Oops!!, No result found "),n&&n.c(),s=H(),i=P("div"),i.innerHTML=h,u=H(),d=P("p"),d.textContent=V,C=H(),K($.$$.fragment),this.h()},l(_){t=E(_,"DIV",{class:!0,style:!0});var f=N(t);l=E(f,"DIV",{class:!0});var c=N(l);e=E(c,"H1",{class:!0});var m=N(e);a=T(m,"Oops!!, No result found "),n&&n.l(m),m.forEach(p),s=O(c),i=E(c,"DIV",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-gh6kz9"&&(i.innerHTML=h),u=O(c),d=E(c,"P",{class:!0,"data-svelte-h":!0}),Z(d)!=="svelte-k68wyi"&&(d.textContent=V),C=O(c),J($.$$.fragment,c),c.forEach(p),f.forEach(p),this.h()},h(){S(e,"class","mb-10 text-xl capitalize sm:text-2xl lg:text-3xl"),S(i,"class","mb-5"),S(d,"class","mb-5 text-center text-zinc-500"),S(l,"class","m-10 flex flex-col items-center justify-center text-center"),S(t,"class","flex items-center justify-center"),be(t,"height","60vh")},m(_,f){x(_,t,f),y(t,l),y(l,e),y(e,a),n&&n.m(e,null),y(l,s),y(l,i),y(l,u),y(l,d),y(l,C),G($,l,null),b=!0},p(_,f){var m;(m=_[0].category)!=null&&m.name?n?n.p(_,f):(n=ue(_),n.c(),n.m(e,null)):n&&(n.d(1),n=null);const c={};f&1048576&&(c.$$scope={dirty:f,ctx:_}),$.$set(c)},i(_){b||(M($.$$.fragment,_),b=!0)},o(_){z($.$$.fragment,_),b=!1},d(_){_&&p(t),n&&n.d(),U($)}}}function He(o){var le;let t,l=((le=o[0].category)==null?void 0:le.name)+"",e,a,s,i,h,u,d,V,C="Sort :",$,b,n,D,_,f,c,m,j,A=W(Ie),w=[];for(let r=0;r<A.length;r+=1)w[r]=Te(Ae(o,A,r));let L=W(o[1]),v=[];for(let r=0;r<L.length;r+=1)v[r]=me(ce(o,L,r));const R=r=>z(v[r],1,1,()=>{v[r]=null});return f=new Ne({props:{count:Math.ceil((o[2]||1)/40),current:o[4]||1}}),{c(){t=P("h1"),e=B(l),a=B(" ("),s=B(o[2]),i=B(")"),h=H(),u=P("div"),d=P("label"),V=P("span"),V.textContent=C,$=H(),b=P("select");for(let r=0;r<w.length;r+=1)w[r].c();n=H(),D=P("div");for(let r=0;r<v.length;r+=1)v[r].c();_=H(),K(f.$$.fragment),this.h()},l(r){t=E(r,"H1",{class:!0});var g=N(t);e=T(g,l),a=T(g," ("),s=T(g,o[2]),i=T(g,")"),g.forEach(p),h=O(r),u=E(r,"DIV",{class:!0});var I=N(u);d=E(I,"LABEL",{class:!0});var q=N(d);V=E(q,"SPAN",{"data-svelte-h":!0}),Z(V)!=="svelte-1u3c5s0"&&(V.textContent=C),$=O(q),b=E(q,"SELECT",{class:!0});var k=N(b);for(let F=0;F<w.length;F+=1)w[F].l(k);k.forEach(p),q.forEach(p),I.forEach(p),n=O(r),D=E(r,"DIV",{class:!0});var Q=N(D);for(let F=0;F<v.length;F+=1)v[F].l(Q);Q.forEach(p),_=O(r),J(f.$$.fragment,r),this.h()},h(){S(t,"class","mb-5 text-xl font-bold capitalize md:text-2xl"),S(b,"class","bg-transparent px-2 py-1 font-semibold focus:outline-none hover:underline"),o[0].sort===void 0&&ve(()=>o[8].call(b)),S(d,"class","flex items-center gap-2"),S(u,"class","mb-4 hidden flex-wrap items-center justify-between md:flex"),S(D,"class","mb-5 grid w-full grid-cols-2 items-start gap-3 sm:mb-10 sm:flex sm:flex-wrap sm:justify-between lg:gap-6")},m(r,g){x(r,t,g),y(t,e),y(t,a),y(t,s),y(t,i),x(r,h,g),x(r,u,g),y(u,d),y(d,V),y(d,$),y(d,b);for(let I=0;I<w.length;I+=1)w[I]&&w[I].m(b,null);se(b,o[0].sort,!0),x(r,n,g),x(r,D,g);for(let I=0;I<v.length;I+=1)v[I]&&v[I].m(D,null);x(r,_,g),G(f,r,g),c=!0,m||(j=[oe(b,"change",o[8]),oe(b,"change",o[9])],m=!0)},p(r,g){var q;if((!c||g&1)&&l!==(l=((q=r[0].category)==null?void 0:q.name)+"")&&Y(e,l),(!c||g&4)&&Y(s,r[2]),g&1&&se(b,r[0].sort),g&2){L=W(r[1]);let k;for(k=0;k<L.length;k+=1){const Q=ce(r,L,k);v[k]?(v[k].p(Q,g),M(v[k],1)):(v[k]=me(Q),v[k].c(),M(v[k],1),v[k].m(D,null))}for(te(),k=L.length;k<v.length;k+=1)R(k);ee()}const I={};g&4&&(I.count=Math.ceil((r[2]||1)/40)),g&16&&(I.current=r[4]||1),f.$set(I)},i(r){if(!c){for(let g=0;g<L.length;g+=1)M(v[g]);M(f.$$.fragment,r),c=!0}},o(r){v=v.filter(Boolean);for(let g=0;g<v.length;g+=1)z(v[g]);z(f.$$.fragment,r),c=!1},d(r){r&&(p(t),p(h),p(u),p(n),p(D),p(_)),ae(w,r),ae(v,r),U(f,r),m=!1,ge(j)}}}function ue(o){var s;let t,l=((s=o[0].category)==null?void 0:s.name)+"",e,a;return{c(){t=B('for "'),e=B(l),a=B('"')},l(i){t=T(i,'for "'),e=T(i,l),a=T(i,'"')},m(i,h){x(i,t,h),x(i,e,h),x(i,a,h)},p(i,h){var u;h&1&&l!==(l=((u=i[0].category)==null?void 0:u.name)+"")&&Y(e,l)},d(i){i&&(p(t),p(e),p(a))}}}function Le(o){let t;return{c(){t=B("Back to Home")},l(l){t=T(l,"Back to Home")},m(l,e){x(l,t,e)},d(l){l&&p(t)}}}function Te(o){let t,l=o[17].name+"",e;return{c(){t=P("option"),e=B(l),this.h()},l(a){t=E(a,"OPTION",{});var s=N(t);e=T(s,l),s.forEach(p),this.h()},h(){t.__value=o[17].val,ke(t,t.__value)},m(a,s){x(a,t,s),y(t,e)},p:ye,d(a){a&&p(t)}}}function me(o){let t,l;return t=new je({props:{product:o[14]}}),{c(){K(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,a){G(t,e,a),l=!0},p(e,a){const s={};a&2&&(s.product=e[14]),t.$set(s)},i(e){l||(M(t.$$.fragment,e),l=!0)},o(e){z(t.$$.fragment,e),l=!1},d(e){U(t,e)}}}function Be(o){var c;let t,l,e,a,s,i,h,u,d,V,C,$,b;document.title=t=(c=o[0].category)==null?void 0:c.name;let n=o[3]&&fe(o);const D=[He,Oe],_=[];function f(m,j){return m[2]>0?0:1}return u=f(o),d=_[u]=D[u](o),$=new Ve({}),{c(){l=H(),e=P("div"),a=P("div"),n&&n.c(),s=H(),i=P("div"),h=P("div"),d.c(),V=H(),C=P("div"),K($.$$.fragment),this.h()},l(m){_e("svelte-w14l92",document.head).forEach(p),l=O(m),e=E(m,"DIV",{});var A=N(e);a=E(A,"DIV",{class:!0});var w=N(a);n&&n.l(w),s=O(w),i=E(w,"DIV",{class:!0});var L=N(i);h=E(L,"DIV",{class:!0});var v=N(h);d.l(v),v.forEach(p),L.forEach(p),w.forEach(p),V=O(A),C=E(A,"DIV",{class:!0});var R=N(C);J($.$$.fragment,R),R.forEach(p),A.forEach(p),this.h()},h(){S(h,"class","w-full"),S(i,"class","flex w-full px-3 py-5"),S(a,"class","mb-20 flex min-h-screen w-full flex-col gap-5 lg:flex-row lg:gap-10 lg:px-10"),S(C,"class","block lg:hidden")},m(m,j){x(m,l,j),x(m,e,j),y(e,a),n&&n.m(a,null),y(a,s),y(a,i),y(i,h),_[u].m(h,null),y(e,V),y(e,C),G($,C,null),b=!0},p(m,[j]){var w;(!b||j&1)&&t!==(t=(w=m[0].category)==null?void 0:w.name)&&(document.title=t),m[3]?n?(n.p(m,j),j&8&&M(n,1)):(n=fe(m),n.c(),M(n,1),n.m(a,s)):n&&(te(),z(n,1,1,()=>{n=null}),ee());let A=u;u=f(m),u===A?_[u].p(m,j):(te(),z(_[A],1,1,()=>{_[A]=null}),ee(),d=_[u],d?d.p(m,j):(d=_[u]=D[u](m),d.c()),M(d,1),d.m(h,null))},i(m){b||(M(n),M(d),M($.$$.fragment,m),b=!0)},o(m){z(n),z(d),z($.$$.fragment,m),b=!1},d(m){m&&(p(l),p(e)),n&&n.d(),_[u].d(),U($)}}}function qe(o,t,l){var _;let e;pe(o,Ce,f=>l(12,e=f));let{data:a}=t,s,i,h,u,d,V=(_=e==null?void 0:e.url)==null?void 0:_.searchParams;he(async()=>{var f;try{const c=await X.fetchAllProductsOfCategories({origin:(f=e==null?void 0:e.data)==null?void 0:f.origin,storeId:e.data.storeId});l(1,s=c.products),l(2,i=c.productsCount),l(4,d=c.currentPage),l(3,h=c.facets),u=c.err}catch(c){ie(c,"error")}finally{}});async function C(f){f=="null"||f==null||f==null||f=="undefined"?e.url.searchParams.delete("sort"):await e.url.searchParams.set("sort",f),await ne(`/search?${e.url.searchParams.toString()}`),await Pe()}async function $(){var f;try{const c=await X.fetchCategory({id:(f=e==null?void 0:e.params)==null?void 0:f.slug,origin});l(0,a.category=c==null?void 0:c.data,a),l(0,a.count=c==null?void 0:c.count,a),l(0,a.err=a.category?null:"No result Not Found",a)}catch(c){ie(c,"error")}finally{}}function b(){a.sort=$e(this),l(0,a)}const n=()=>C(a.sort),D=()=>ne("/");return o.$$set=f=>{"data"in f&&l(0,a=f.data)},[a,s,i,h,d,V,C,$,b,n,D]}class ut extends we{constructor(t){super(),Ee(this,t,qe,Be,de,{data:0})}}export{ut as component,ft as universal};
