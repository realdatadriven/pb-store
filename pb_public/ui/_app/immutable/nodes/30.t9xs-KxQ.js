import{s as Je,N as Ke,d as m,i as I,b as i,a as _,f as C,c as b,e as M,w as P,m as N,k as w,x as z,o as Qe,v as R,z as ne,h as ze,g as oe,n as Me,A as Ve,B as Re,E as We,D as Xe,j as Ie,y as Ye,l as Ze,t as xe}from"../chunks/ufOp95kZ.js";import{S as et,i as tt,d as X,t as L,a as U,c as st,m as Y,b as Z,e as x,f as Le,g as rt}from"../chunks/DNCcOagt.js";import{e as Be}from"../chunks/DRjDb-W4.js";import{g as at,a as lt}from"../chunks/CgU5AtxT.js";import"../chunks/DYsVtq3u.js";import{e as nt}from"../chunks/0O3gG8xD.js";import{i as ot,a as it}from"../chunks/D3JaxPbd.js";import{p as dt}from"../chunks/BpHj9z-n.js";import"../chunks/D-vWSArU.js";import"../chunks/JGQLqEoH.js";import{t as ft}from"../chunks/DhmAwd_b.js";import"../chunks/CHWgvwls.js";/* empty css                */import"../chunks/RatnibW6.js";import"../chunks/Ce6Dz44R.js";import"../chunks/DanBvOwQ.js";import{M as Ue,S as Fe}from"../chunks/DFvLAGCr.js";import{P as ut}from"../chunks/DypRY6cT.js";import{P as qe}from"../chunks/CPq52TI4.js";import{S as ct}from"../chunks/DFWCCbjV.js";const pt=""+new URL("../assets/empty-address.BtCvs4ic.svg",import.meta.url).href;function De(r,e,t){const s=r.slice();return s[17]=e[t],s[19]=t,s}function Te(r){var d,u;let e,t=((u=(d=r[0])==null?void 0:d.addresses)==null?void 0:u.count)+"",s,o;return{c(){e=z("("),s=z(t),o=z(")")},l(l){e=P(l,"("),s=P(l,t),o=P(l,")")},m(l,n){I(l,e,n),I(l,s,n),I(l,o,n)},p(l,n){var h,k;n&1&&t!==(t=((k=(h=l[0])==null?void 0:h.addresses)==null?void 0:k.count)+"")&&R(s,t)},d(l){l&&(m(e),m(s),m(o))}}}function _t(r){let e,t,s,o,d="Add New Address";return{c(){e=Me("svg"),t=Me("path"),s=N(),o=w("span"),o.textContent=d,this.h()},l(u){e=ze(u,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,stroke:!0});var l=M(e);t=ze(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),M(t).forEach(m),l.forEach(m),s=C(u),o=b(u,"SPAN",{"data-svelte-h":!0}),oe(o)!=="svelte-1xh1yzx"&&(o.textContent=d),this.h()},h(){_(t,"stroke-linecap","round"),_(t,"stroke-linejoin","round"),_(t,"stroke-width","2"),_(t,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),_(e,"class","h-5 w-5"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"fill","none"),_(e,"viewBox","0 0 24 24"),_(e,"stroke","currentColor")},m(u,l){I(u,e,l),i(e,t),I(u,s,l),I(u,o,l)},p:ne,d(u){u&&(m(e),m(s),m(o))}}}function mt(r){var u;let e,t,s;function o(l){r[7](l)}let d={shipping_address:r[5],countries:(u=r[0].countries)==null?void 0:u.data};return r[2]!==void 0&&(d.editAddress=r[2]),e=new Fe({props:d}),Ve.push(()=>Le(e,"editAddress",o)),{c(){x(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){Y(e,l,n),s=!0},p(l,n){var k;const h={};n&1&&(h.countries=(k=l[0].countries)==null?void 0:k.data),!t&&n&4&&(t=!0,h.editAddress=l[2],Re(()=>t=!1)),e.$set(h)},i(l){s||(U(e.$$.fragment,l),s=!0)},o(l){L(e.$$.fragment,l),s=!1},d(l){X(e,l)}}}function ht(r){let e,t,s,o,d,u="Empty Address!!",l,n,h="There's no address found, start adding address by clicking the add new address button above.",k,a,c,p;return c=new qe({props:{class:"w-40 py-2 text-sm",$$slots:{default:[bt]},$$scope:{ctx:r}}}),{c(){e=w("div"),t=w("img"),o=N(),d=w("h2"),d.textContent=u,l=N(),n=w("p"),n.textContent=h,k=N(),a=w("a"),x(c.$$.fragment),this.h()},l(v){e=b(v,"DIV",{class:!0});var $=M(e);t=b($,"IMG",{src:!0,alt:!0,class:!0}),o=C($),d=b($,"H2",{class:!0,"data-svelte-h":!0}),oe(d)!=="svelte-p84oa2"&&(d.textContent=u),l=C($),n=b($,"P",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-1rcz5cx"&&(n.textContent=h),k=C($),a=b($,"A",{href:!0,"aria-label":!0,"data-sveltekit-preload-data":!0});var g=M(a);Z(c.$$.fragment,g),g.forEach(m),$.forEach(m),this.h()},h(){Xe(t.src,s=pt)||_(t,"src",s),_(t,"alt","empty wishlist"),_(t,"class","mb-5 h-60 object-contain"),_(d,"class","mb-2"),_(n,"class","mb-5"),_(a,"href","/"),_(a,"aria-label","Click to visit home"),_(a,"data-sveltekit-preload-data",""),_(e,"class","flex h-[70vh] flex-col items-center justify-center text-center")},m(v,$){I(v,e,$),i(e,t),i(e,o),i(e,d),i(e,l),i(e,n),i(e,k),i(e,a),Y(c,a,null),p=!0},p(v,$){const g={};$&1048576&&(g.$$scope={dirty:$,ctx:v}),c.$set(g)},i(v){p||(U(c.$$.fragment,v),p=!0)},o(v){L(c.$$.fragment,v),p=!1},d(v){v&&m(e),X(c)}}}function vt(r){var h,k;let e,t,s,o,d,u,l=Be(r[0].addresses.data),n=[];for(let a=0;a<l.length;a+=1)n[a]=Oe(De(r,l,a));return s=new Ue({props:{show:r[3],title:"Edit Address",hideFooter:!0,$$slots:{default:[wt]},$$scope:{ctx:r}}}),s.$on("close",r[12]),d=new ut({props:{count:Math.ceil((((k=(h=r[0])==null?void 0:h.addresses)==null?void 0:k.count)||1)/r[0].pageSize),current:r[0].currentPage||1}}),{c(){e=w("ul");for(let a=0;a<n.length;a+=1)n[a].c();t=N(),x(s.$$.fragment),o=N(),x(d.$$.fragment),this.h()},l(a){e=b(a,"UL",{class:!0});var c=M(e);for(let p=0;p<n.length;p+=1)n[p].l(c);c.forEach(m),t=C(a),Z(s.$$.fragment,a),o=C(a),Z(d.$$.fragment,a),this.h()},h(){_(e,"class","mb-5 flex w-full max-w-xl flex-col gap-4")},m(a,c){I(a,e,c);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(e,null);I(a,t,c),Y(s,a,c),I(a,o,c),Y(d,a,c),u=!0},p(a,c){var $,g;if(c&11){l=Be(a[0].addresses.data);let y;for(y=0;y<l.length;y+=1){const E=De(a,l,y);n[y]?n[y].p(E,c):(n[y]=Oe(E),n[y].c(),n[y].m(e,null))}for(;y<n.length;y+=1)n[y].d(1);n.length=l.length}const p={};c&8&&(p.show=a[3]),c&1048587&&(p.$$scope={dirty:c,ctx:a}),s.$set(p);const v={};c&1&&(v.count=Math.ceil((((g=($=a[0])==null?void 0:$.addresses)==null?void 0:g.count)||1)/a[0].pageSize)),c&1&&(v.current=a[0].currentPage||1),d.$set(v)},i(a){u||(U(s.$$.fragment,a),U(d.$$.fragment,a),u=!0)},o(a){L(s.$$.fragment,a),L(d.$$.fragment,a),u=!1},d(a){a&&(m(e),m(t),m(o)),We(n,a),X(s,a),X(d,a)}}}function gt(r){var s;let e=((s=r[0].addresses)==null?void 0:s.errors)+"",t;return{c(){t=z(e)},l(o){t=P(o,e)},m(o,d){I(o,t,d)},p(o,d){var u;d&1&&e!==(e=((u=o[0].addresses)==null?void 0:u.errors)+"")&&R(t,e)},i:ne,o:ne,d(o){o&&m(t)}}}function $t(r){let e;return{c(){e=z("Loading....")},l(t){e=P(t,"Loading....")},m(t,s){I(t,e,s)},p:ne,i:ne,o:ne,d(t){t&&m(e)}}}function bt(r){let e;return{c(){e=z("Shop Now")},l(t){e=P(t,"Shop Now")},m(t,s){I(t,e,s)},d(t){t&&m(e)}}}function je(r){let e,t,s,o,d=(r[17].firstName||"_")+"",u,l,n=(r[17].lastName||"_")+"",h,k,a,c=(r[17].address||"_")+"",p,v,$=(r[17].city||"_")+"",g,y,E,re,D=(r[17].state||"_")+"",ee,ae,q=(r[17].country||"_")+"",f,A,j,H,O=(r[17].zip||"_")+"",G,le,J,ie=(r[17].email||"_")+"",ue,ge,de,fe=(r[17].phone||"_")+"",ce,$e,be,K,F,Ce="Edit",we,V,te,pe,ke,Q,Ne="REMOVE",Ae,Ee,ye,B=r[17].isHome&&He();function Ge(){return r[9](r[17])}return{c(){e=w("li"),t=w("div"),s=w("div"),o=w("span"),u=z(d),l=N(),h=z(n),k=N(),a=w("span"),p=z(c),v=z(", "),g=z($),y=N(),E=w("br"),re=N(),ee=z(D),ae=z(", "),f=z(q),A=N(),j=w("br"),H=N(),G=z(O),le=N(),J=w("span"),ue=z(ie),ge=N(),de=w("span"),ce=z(fe),$e=N(),B&&B.c(),be=N(),K=w("div"),F=w("button"),F.textContent=Ce,we=N(),V=w("form"),te=w("input"),ke=N(),Q=w("button"),Q.textContent=Ne,Ae=N(),this.h()},l(se){e=b(se,"LI",{class:!0});var S=M(e);t=b(S,"DIV",{class:!0});var _e=M(t);s=b(_e,"DIV",{class:!0});var W=M(s);o=b(W,"SPAN",{class:!0});var me=M(o);u=P(me,d),l=C(me),h=P(me,n),me.forEach(m),k=C(W),a=b(W,"SPAN",{});var T=M(a);p=P(T,c),v=P(T,", "),g=P(T,$),y=C(T),E=b(T,"BR",{}),re=C(T),ee=P(T,D),ae=P(T,", "),f=P(T,q),A=C(T),j=b(T,"BR",{}),H=C(T),G=P(T,O),T.forEach(m),le=C(W),J=b(W,"SPAN",{});var Se=M(J);ue=P(Se,ie),Se.forEach(m),ge=C(W),de=b(W,"SPAN",{});var Pe=M(de);ce=P(Pe,fe),Pe.forEach(m),W.forEach(m),$e=C(_e),B&&B.l(_e),_e.forEach(m),be=C(S),K=b(S,"DIV",{class:!0});var he=M(K);F=b(he,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),oe(F)!=="svelte-171hcf3"&&(F.textContent=Ce),we=C(he),V=b(he,"FORM",{action:!0,method:!0,class:!0});var ve=M(V);te=b(ve,"INPUT",{type:!0,name:!0}),ke=C(ve),Q=b(ve,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),oe(Q)!=="svelte-wq8h51"&&(Q.textContent=Ne),ve.forEach(m),he.forEach(m),Ae=C(S),S.forEach(m),this.h()},h(){_(o,"class","text-base font-semibold"),_(s,"class","flex flex-1 flex-col gap-1 text-sm"),_(t,"class","flex items-start gap-3 p-4 sm:p-6"),_(F,"type","button"),_(F,"class","w-full bg-transparent p-2 text-center font-semibold uppercase text-primary-500 transition duration-300 focus:outline-none hover:bg-zinc-100 hover:text-primary-700"),_(te,"type","hidden"),_(te,"name","id"),te.value=pe=r[17]._id||r[17].id||null,_(Q,"type","submit"),_(Q,"class","w-full bg-transparent p-2 text-center font-semibold uppercase text-primary-500 transition duration-300 focus:outline-none hover:bg-zinc-100 hover:text-primary-700"),_(V,"action","/my/addresses?/deleteAddress"),_(V,"method","POST"),_(V,"class","w-full"),_(K,"class","grid grid-cols-2 divide-x border-t"),_(e,"class","overflow-hidden rounded border bg-white shadow-md transition duration-300 hover:shadow-md")},m(se,S){I(se,e,S),i(e,t),i(t,s),i(s,o),i(o,u),i(o,l),i(o,h),i(s,k),i(s,a),i(a,p),i(a,v),i(a,g),i(a,y),i(a,E),i(a,re),i(a,ee),i(a,ae),i(a,f),i(a,A),i(a,j),i(a,H),i(a,G),i(s,le),i(s,J),i(J,ue),i(s,ge),i(s,de),i(de,ce),i(t,$e),B&&B.m(t,null),i(e,be),i(e,K),i(K,F),i(K,we),i(K,V),i(V,te),i(V,ke),i(V,Q),i(e,Ae),Ee||(ye=[Ze(F,"click",Ge),xe(nt.call(null,V,r[10]))],Ee=!0)},p(se,S){r=se,S&1&&d!==(d=(r[17].firstName||"_")+"")&&R(u,d),S&1&&n!==(n=(r[17].lastName||"_")+"")&&R(h,n),S&1&&c!==(c=(r[17].address||"_")+"")&&R(p,c),S&1&&$!==($=(r[17].city||"_")+"")&&R(g,$),S&1&&D!==(D=(r[17].state||"_")+"")&&R(ee,D),S&1&&q!==(q=(r[17].country||"_")+"")&&R(f,q),S&1&&O!==(O=(r[17].zip||"_")+"")&&R(G,O),S&1&&ie!==(ie=(r[17].email||"_")+"")&&R(ue,ie),S&1&&fe!==(fe=(r[17].phone||"_")+"")&&R(ce,fe),r[17].isHome?B||(B=He(),B.c(),B.m(t,null)):B&&(B.d(1),B=null),S&1&&pe!==(pe=r[17]._id||r[17].id||null)&&(te.value=pe)},d(se){se&&m(e),B&&B.d(),Ee=!1,Ye(ye)}}}function He(r){let e,t="Home";return{c(){e=w("div"),e.textContent=t,this.h()},l(s){e=b(s,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-pkse3p"&&(e.textContent=t),this.h()},h(){_(e,"class","shrink-0 rounded-full border-2 border-zinc-200 bg-zinc-100 py-0.5 px-4 text-xs font-bold uppercase tracking-wide")},m(s,o){I(s,e,o)},d(s){s&&m(e)}}}function Oe(r){let e,t=r[17]&&je(r);return{c(){t&&t.c(),e=Ie()},l(s){t&&t.l(s),e=Ie()},m(s,o){t&&t.m(s,o),I(s,e,o)},p(s,o){s[17]?t?t.p(s,o):(t=je(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){s&&m(e),t&&t.d(s)}}}function wt(r){var u;let e,t,s;function o(l){r[11](l)}let d={shipping_address:r[1],countries:(u=r[0].countries)==null?void 0:u.data};return r[3]!==void 0&&(d.editAddress=r[3]),e=new Fe({props:d}),Ve.push(()=>Le(e,"editAddress",o)),{c(){x(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){Y(e,l,n),s=!0},p(l,n){var k;const h={};n&2&&(h.shipping_address=l[1]),n&1&&(h.countries=(k=l[0].countries)==null?void 0:k.data),!t&&n&8&&(t=!0,h.editAddress=l[3],Re(()=>t=!1)),e.$set(h)},i(l){s||(U(e.$$.fragment,l),s=!0)},o(l){L(e.$$.fragment,l),s=!1},d(l){X(e,l)}}}function kt(r){var ae,q;let e,t,s,o,d,u,l,n,h,k,a,c,p,v,$;const g=[r[4]];let y={};for(let f=0;f<g.length;f+=1)y=Ke(y,g[f]);e=new ct({props:y});let E=((q=(ae=r[0])==null?void 0:ae.addresses)==null?void 0:q.count)&&Te(r);h=new qe({props:{type:"button",loadingringsize:"sm",class:"text-sm",$$slots:{default:[_t]},$$scope:{ctx:r}}}),h.$on("click",r[6]),a=new Ue({props:{show:r[2],title:"Add New Address",hideFooter:!0,$$slots:{default:[mt]},$$scope:{ctx:r}}}),a.$on("close",r[8]);const re=[$t,gt,vt,ht],D=[];function ee(f,A){var j,H;return(j=f[0].addresses)!=null&&j.isFetching?0:(H=f[0].addresses)!=null&&H.errors?1:f[0].addresses.data.length>0?2:3}return p=ee(r),v=D[p]=re[p](r),{c(){x(e.$$.fragment),t=N(),s=w("section"),o=w("header"),d=w("h1"),u=z("Addresses "),E&&E.c(),l=N(),n=w("div"),x(h.$$.fragment),k=N(),x(a.$$.fragment),c=N(),v.c(),this.h()},l(f){Z(e.$$.fragment,f),t=C(f),s=b(f,"SECTION",{});var A=M(s);o=b(A,"HEADER",{class:!0});var j=M(o);d=b(j,"H1",{});var H=M(d);u=P(H,"Addresses "),E&&E.l(H),H.forEach(m),l=C(j),n=b(j,"DIV",{class:!0});var O=M(n);Z(h.$$.fragment,O),O.forEach(m),j.forEach(m),k=C(A),Z(a.$$.fragment,A),c=C(A),v.l(A),A.forEach(m),this.h()},h(){_(n,"class","flex flex-wrap items-center gap-2"),_(o,"class","mb-5 flex flex-wrap items-start justify-between gap-4")},m(f,A){Y(e,f,A),I(f,t,A),I(f,s,A),i(s,o),i(o,d),i(d,u),E&&E.m(d,null),i(o,l),i(o,n),Y(h,n,null),i(s,k),Y(a,s,null),i(s,c),D[p].m(s,null),$=!0},p(f,[A]){var le,J;const j=A&16?at(g,[lt(f[4])]):{};e.$set(j),(J=(le=f[0])==null?void 0:le.addresses)!=null&&J.count?E?E.p(f,A):(E=Te(f),E.c(),E.m(d,null)):E&&(E.d(1),E=null);const H={};A&1048576&&(H.$$scope={dirty:A,ctx:f}),h.$set(H);const O={};A&4&&(O.show=f[2]),A&1048581&&(O.$$scope={dirty:A,ctx:f}),a.$set(O);let G=p;p=ee(f),p===G?D[p].p(f,A):(rt(),L(D[G],1,1,()=>{D[G]=null}),st(),v=D[p],v?v.p(f,A):(v=D[p]=re[p](f),v.c()),U(v,1),v.m(s,null))},i(f){$||(U(e.$$.fragment,f),U(h.$$.fragment,f),U(a.$$.fragment,f),U(v),$=!0)},o(f){L(e.$$.fragment,f),L(h.$$.fragment,f),L(a.$$.fragment,f),L(v),$=!1},d(f){f&&(m(t),m(s)),X(e,f),E&&E.d(),X(h),X(a),D[p].d()}}}function At(r,e,t){Qe(r,dt,g=>t(13,g));let{data:s}=e;const o={title:"Dashboard - Addresses ",description:"My Addresses"};let d={},u={},l=!1,n=!1;const h=()=>t(2,l=!0);function k(g){l=g,t(2,l)}const a=()=>t(2,l=!1),c=g=>{t(1,u=g),t(3,n=!0)},p=()=>async({result:g})=>{ft("Address deleted","success"),await ot(),await it(g)};function v(g){n=g,t(3,n)}const $=()=>t(3,n=!1);return r.$$set=g=>{"data"in g&&t(0,s=g.data)},[s,u,l,n,o,d,h,k,a,c,p,v,$]}class qt extends et{constructor(e){super(),tt(this,e,At,kt,Je,{data:0})}}export{qt as component};
