import{C as g}from"./DYsVtq3u.js";import{w as f}from"./D3JaxPbd.js";const o=f({}),i=f(!1);let s=!1;const m=async({origin:r,storeId:c,cartId:u,forceUpdate:l=!1})=>{let e;if(o.subscribe(t=>{var a,n;(a=t==null?void 0:t.items)!=null&&a.length&&((n=Object.values(t))!=null&&n.length)&&(e=t)}),!s&&!e||l){s=!0,i.update(t=>!0);try{const t=await g.fetchRefreshCart({cartId:u,storeId:c,origin:r});o.update(a=>t)}catch(t){console.log("error",t)}finally{s=!1,i.update(t=>!1)}}return e},C=async({data:r})=>(o.update(c=>r),!0);export{i as a,o as c,m as g,C as u};
