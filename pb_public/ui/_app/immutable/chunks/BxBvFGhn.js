import{a as u}from"./DYsVtq3u.js";import{w as c}from"./D3JaxPbd.js";const s=c([]),g=c([]);let l=!1,m=!1;const M=async({origin:r,storeId:n,forceUpdate:o=!1})=>{let a;if(s.subscribe(e=>{var t;e&&((t=Object.values(e))!=null&&t.length)&&(a=e)}),!l&&!a||o){l=!0;try{const e=await u.fetchMegamenuData({megamenu:!0,storeId:n,origin:r});s.update(t=>e)}catch(e){console.log("store/megamneu error",e)}finally{l=!1}}return a},b=async({origin:r,storeId:n,forceUpdate:o=!1})=>{let a;if(g.subscribe(e=>{var t;e&&((t=Object.values(e))!=null&&t.length)&&(a=e)}),!m&&!a||o){m=!0;try{const e=await u.fetchMegamenuData({megamenu:!1,storeId:n,origin:r});g.update(t=>e)}catch(e){console.log("store/megamneu error",e)}finally{m=!1}}return a};export{M as a,b as g};
